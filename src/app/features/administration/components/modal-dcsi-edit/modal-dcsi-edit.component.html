<div class="modal-header">
  <h4 class="modal-title">Modifier le DCSI</h4>
  <button
    type="button"
    class="btn-close"
    aria-label="Close"
    (click)="activeModal.dismiss('Cross click')">
  </button>
</div>

<div class="modal-body">

  <!-- Messages -->
  @if (errorMessage) {
    <div class="alert alert-danger">
      {{ errorMessage }}
    </div>
  }

  @if (successMessage) {
    <div class="alert alert-success">
      {{ successMessage }}
    </div>
  }

  <form [formGroup]="dcsiForm">

    <!-- Responsable -->
    <div class="mb-3">
      <label class="form-label">Nom du responsable</label>
      <input
        type="text"
        class="form-control"
        formControlName="responsableNom"
        placeholder="Entrez le nom du responsable" />
    </div>

    <div class="mb-3">
      <label class="form-label">Email du responsable</label>
      <input
        type="email"
        class="form-control"
        formControlName="responsableEmail"
        placeholder="Entrez l'email du responsable" />
    </div>

    <div class="mb-3">
      <label class="form-label">Téléphone du responsable</label>
      <input
        type="text"
        class="form-control"
        formControlName="responsablePhone"
        placeholder="Entrez le téléphone (facultatif)" />
    </div>

    <!-- Chef de service -->
    <div class="mb-3">
      <label class="form-label">Nom du chef de service</label>
      <input
        type="text"
        class="form-control"
        formControlName="chefServiceNom"
        placeholder="Entrez le nom du chef de service" />
    </div>

    <div class="mb-3">
      <label class="form-label">Email du chef de service</label>
      <input
        type="email"
        class="form-control"
        formControlName="chefServiceEmail"
        placeholder="Entrez l'email du chef de service" />
    </div>

    <div class="mb-3">
      <label class="form-label">Téléphone du chef de service</label>
      <input
        type="text"
        class="form-control"
        formControlName="chefServicePhone"
        placeholder="Entrez le téléphone (facultatif)" />
    </div>

    <!-- Administration -->
    <div class="mb-3">
      <label class="form-label">Administration</label>
      <select class="form-select" formControlName="administrationId">
        <option value="">Sélectionnez une administration</option>

        @for (admin of administrations; track admin.id) {
          <option [value]="admin.id">
            {{ admin.nom }}
          </option>
        }
      </select>
    </div>

    <!-- Boutons -->
    <div class="modal-footer">
      <button
        type="button"
        class="btn btn-outline-secondary"
        (click)="activeModal.dismiss()">
        Annuler
      </button>
      <button
        type="button"
        class="btn btn-primary"
        (click)="onSubmit()">
        Enregistrer
      </button>
    </div>

  </form>
</div>
